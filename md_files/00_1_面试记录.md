# 特斯拉面试

```mysql
#是否首充(布隆过滤器)
一个实时充电记录流,记录一个永久的状态哪些人充过电。永久状态，还不太大,不接入外界系统。flink内部的bigtable和布隆过滤器

#spark中
df1
df1.cache()
df2 = df1.map()
df3 = df1.map()
df1.uncache()

df2.sink()
df1.sink()
这里的问题就是在行动算子执行前,df1就取消缓存了，df1的cache不生效，真正执行map是在行动算子触发


#flink
一个流中，某条数据，记录开始时间充电。后序会更新是否有效。通key的2条数据,超过3分钟，任务这个key失效。
开一个3分钟的窗口,窗口能判断是否,设置ttl




```

