# 方案要考虑的问题

#### gpt提议

```gpt

1. **需求兼容性**：解决方案必须满足当前的业务需求，并且能够适应未来可能的需求变化。

2. **故障恢复（Disaster Recovery）**：确保系统设计具有高可用性，并且在出现故障时能够快速恢复。这包括数据备份、故障转移机制和恢复计划。

3. **可扩展性（Scalability）**：系统设计时应该考虑到未来增长，包括水平扩展（增加更多节点）和垂直扩展（增强现有节点的能力）的能力。

4. **性能**：解决方案应该满足性能要求，包括处理速度、吞吐量和响应时间等。

6. **成本效益**：评估技术解决方案的成本，包括初始投资、运营成本和潜在的节省成本。

7. **可维护性**：解决方案应该易于维护和升级，以减少长期的运营成本。

8. **技术兼容性**：确保新解决方案能够与现有的系统和技术栈兼容。

12. **测试和验证**：确保有一个全面的测试计划来验证解决方案的功能和性能。

13. **文档和培训**：提供充分的文档和培训材料，以便用户和维护人员能够有效地使用和维护系统。

15. **项目管理**：确保有一个明确的项目管理计划，包括时间表、里程碑、资源分配和风险管理。

在确定解决方案时，通常需要进行详细的需求分析，并与所有利益相关者进行沟通，以确保方案能够满足所有关键的业务和技术需求。此外，还应该进行成本效益分析和风险评估，以确保解决方案在经济和风险管理方面是合理的。
```



#### 故障恢复

```sql
每个业务实现，确定方案之前，都要考虑故障恢复。不止大数据，前后端都要考虑

#更高的功能需求
确保系统设计具有高可用性，并且在出现故障时能够快速恢复。这包括数据备份、故障转移机制和恢复计划。

#案例
dwt层的不合理之处，就是出现问题，无法回滚，只能重跑
离在线混搭的最大问题，不用hbase无法实现幂等性，精准一次
```



#### 扩展性

```sql
敲定一个方案之前,要确定这个方案是否有扩展性。
系统设计时应该考虑到未来增长，包括水平扩展（增加更多节点）和垂直扩展（增强现有节点的能力）的能力。

#总结
每个公司模式不同，业务发展不同。你想设计一个方案有兼容性和拓展性。
那么你要提前了解到，未来会想什么方向发展和趋势，这样你才能设计一个有拓展性的方案。
因此，这个的大前提就是:你对这个行业很了解，知道为了规模扩大后，会往什么方向发展,这个一般要从大厂出来才知道，
不然的话只能通过资料来获取，不过每个行业


### 需求兼容性案例

**不适应未来需求变化的方案**：
假设一家零售企业为了管理库存，决定开发一个简单的库存管理系统。这个系统在设计时只考虑了当前的产品种类和销售渠道。随着时间的推移，企业开始销售新的产品类别，并且增加了在线销售渠道。但是，现有的库存管理系统无法处理多渠道销售，也无法适应新产品类别的管理，导致企业不得不重新投资开发新的系统或进行昂贵的系统升级。

**能适应未来需求变化的方案**：
同样是这家零售企业，如果在设计库存管理系统时，就考虑到了企业未来可能会扩展产品线和销售渠道，系统设计时包括了模块化的架构，使得可以轻松添加新的产品类别和集成多个销售渠道。当企业扩展业务时，系统能够通过配置更新或小规模模块开发来适应这些变化，避免了重建整个系统的成本和劳动。

### 可扩展性案例

**不具备可扩展性的方案**：
一家初创公司开发了一个流行的移动应用，用于社交网络服务。他们的服务器架构是单体的，所有的服务都运行在单个服务器或服务器集群上。随着用户数量的快速增长，原有的服务器无法处理请求负载的增加，导致应用性能下降，用户体验受损。公司不得不紧急进行系统升级，这不仅成本高昂，而且还可能导致服务中断。

**具备可扩展性的方案**：
如果这家公司最初就采用了微服务架构，将不同的功能分布在不同的服务中，并且每个服务都可以独立地进行扩展。当用户负载增加时，公司可以仅仅扩展那些负载增加的服务，例如可以增加更多的用户认证服务的实例来处理登录请求的增加。这种方式可以更加经济高效，并且可以实现几乎无缝的扩展，避免了因为系统升级导致的服务中断。

通过这两个案例，我们可以看到，考虑需求兼容性和可扩展性对于技术解决方案的长期成功至关重要。设计时的前瞻性思维可以帮助企业节省将来的时间、金钱和劳动，同时确保系统的稳定性和用户满意度。

```



#### 性能

```
性能：解决方案应该满足性能要求，包括处理速度、吞吐量和响应时间等。
```



#### 数据操作相关问题

```sql
#数据一致性问题
案例
必须maxwell首次同步时，这段时间有新的数据更改了，怎么保证数据一致性。
以及sqoop导入数据,怎么保证4个任务成功，不会出现缺数据。
```



# 个人总结

#### 拓展性

```sql
#总结
每个公司模式不同，业务发展不同。你想设计一个方案有兼容性和拓展性。
那么你要提前了解到，未来会想什么方向发展和趋势，这样你才能设计一个有拓展性的方案。
因此，这个的大前提就是:你对这个行业很了解，知道为了规模扩大后，会往什么方向发展,这个一般要从大厂出来才知道，
不然的话只能通过资料来获取，不过每个行业也会有区别。


#针对大数据
对于大数据，我需要知道，为了数据量大时，会出现什么问题，导致目前方案无法适应。
例如:后续会有算法团队，那么就应该用hudi或者lakerhouse，因为hive不是很适合算法团队直接使用数据。
以及以后多业务，会需求数据一致性和事务，目前hive和hdfs就无法实现，后面只能迁移，如果新框架能对接hive还行，无法桥接，问题就很大

```



#### 拓展性案例

```sql
设计一个具有扩展性的数据仓库是一个复杂的任务，需要考虑到未来可能的业务发展、数据增长和技术变化。以下是一些在大公司业务规模扩大后可能遇到的问题，以及设计数据仓库时可以考虑的扩展性因素：

1. **数据量的增长**：随着业务的发展，数据量会急剧增加。设计时应该选择能够水平扩展的数据存储解决方案，例如使用分布式数据库系统。

2. **数据类型和来源的多样化**：随着业务的扩展，可能会增加新的数据源和类型，比如社交媒体、IoT设备数据等。数据仓库应该能够支持多种数据格式和来源的集成。

3. **查询性能要求的提高**：用户和业务分析的需求可能会变得更加复杂，需要数据仓库能够提供高性能的查询能力。考虑使用列式存储、数据索引和缓存策略来提高查询效率。

4. **数据安全和合规性**：随着数据量和重要性的增加，数据安全和合规性变得越来越重要。确保设计中包含数据加密、审计日志、用户权限管理等功能。

5. **数据质量和治理**：数据的准确性、一致性和可靠性对于决策至关重要。设计数据仓库时应该包括数据质量管理和数据治理的工具和流程。

6. **系统的可维护性和监控**：随着系统的复杂度增加，需要有有效的监控和维护机制来保证系统的稳定性。考虑引入自动化监控和报警系统。

7. **灾难恢复和高可用性**：业务规模扩大后，任何停机时间都可能导致重大损失。设计中需要包含备份和灾难恢复计划，以及高可用性架构设计。

8. **用户和应用程序的接入**：预期会有更多的用户和应用程序需要访问数据仓库。需要设计灵活的API和服务接口，以及可能的多租户架构。

9. **成本控制**：随着数据仓库的规模增加，成本可能会急剧上升。需要考虑如何优化资源利用率和成本效益，比如通过数据生命周期管理和存储层次化。

10. **技术演进**：技术环境是不断变化的，设计时应该考虑到未来可能的技术演进，比如新的数据库技术、云服务和大数据处理框架。

在设计具有扩展性的数据仓库时，可以采用如下策略：

- **模块化设计**：将数据仓库设计成模块化，便于在需要时添加、更新或替换组件。
- **抽象化层**：在数据仓库和数据源之间使用抽象层，如ETL（Extract, Transform, Load）流程，以便于管理和集成新的数据源。
- **元数据管理**：建立强大的元数据管理系统，以支持数据的发现、分类和治理。
- **采用标准化和最佳实践**：遵循行业标准和最佳实践，如使用SQL标准、Kimball或Inmon的数据仓库设计方法论。

最后，重要的是保持与业务部门的紧密沟通，了解业务目标和需求，这样才能设计出真正符合未来业务发展需要的数据仓库。
```

# 感想杂谈

#### py不适合第一门语言(理解错误)

```sql
python和scala都是函数式编程
scala还有对函数有个类型定义 (Int) => Int 
python什么都没有,直接通过识别确定参数为函数

def f1( func):
	func("aa")
通过变量调用，来识别是否为参数

本来就没有函数这东西，都是通过创建对象，实现方法，通过对象掉方法,底层语言给做了
直接学python这些根本不知道,学java再学scala/python能理解这些怎么做的。

#是我理解片面了
都是用c编写的，c语言支持参数传递一个函数；
C语言中的函数指针（function pointer）允许将函数作为参数传递给其他函数。函数指针可以像普通变量一样声明，并且可以将一个函数的地址赋值给函数指针变量。通过函数指针，C语言允许将函数作为参数传递，从而实现更灵活的函数调用和动态的函数选择。

所以java和python是2个设计模式，不能说python不适合当第一门语言。

#java为什么不支持函数式编程
在Java语言中，函数指针的概念与C语言中的函数指针不同。Java是一种面向对象的编程语言，它的函数调用是通过对象的方法调用来实现的，而不是直接通过函数指针。
Java中的方法是对象的一部分，它们属于类或接口，并且可以通过对象引用来调用。Java提供了接口和匿名内部类等机制来实现类似函数指针的功能，使得可以将方法作为参数传递给其他方法。

```



#### 测试的作用

leecode题中，无重复最长子串那个，事先没预料到好多事情，都是leecode给测出来的，许多输入不对的数据。

最开始没有想到收尾，当全子串没有重复时，进不到if循环。

后面添加了收尾，忘记重置set了。并且逻辑也和上面不同，用j-i+1。

而且当长度为1时，逻辑也覆盖不到。太多问题了。





#### 软件

开发，使用，和维护的文档
